<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Photo booth</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <script src="http://www.google.com/jsapi" type="text/javascript"></script>
  <script type="text/javascript">
    google.load("swfobject", "2.1");
  </script>
  <script language="JavaScript">
  var jsReady = false;
  
  function isReady() {
    return jsReady;
  }
  
  function thisMovie(movieName) {
    if (navigator.appName.indexOf("Microsoft") != -1) {
      return window[movieName];
    } else {
      return document[movieName];
    }
  }
  
  function captureImage() {
    thisMovie("take_picture").captureImage();
  }
  
  function saveImage() {
    thisMovie("take_picture").saveImage();
  }
  </script>
  <script type="text/javascript">
    google.setOnLoadCallback(function() {
      jsReady = true;
      
      // Lets Flash from another domain call JavaScript
      var params = { allowScriptAccess: "always" };
      // All of the magic handled by SWFObject (http://code.google.com/p/swfobject/)
      swfobject.embedSWF("/flash/TakePictureShim.swf", "take_picture", "640", "240", "9", null, null, params);
    });
  </script>
</head>
<body onload="pageInit();">
  <div id="take_picture"></div>
  
  <p>
    <a href="#" onclick="captureImage(); return false">Capture</a><br/>
    <a href="#" onclick="saveImage(); return false">Save</a><br/>
  </p>
</body>
</html>
